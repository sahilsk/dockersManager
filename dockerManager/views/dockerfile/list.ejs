<% include ../../layouts/dashboard_layout_top %>




<h1> Dashboard </h1>


	<span >All User Created Images </span> 

<% if( typeof imageList === "object" && imageList.length == 0 ){ %>
	
	<div class="somethingWentWrong">
		<span > No Image Built Yet. </span>
		<a href="/"> Submit New Dockerfile </a>
	</div>	
<% } %>

<% if( typeof imageList === "object" && imageList.length > 0 ){ %>
		<table border='1' cellspacing='0'>
			<thead>
				<tr>
					<th> </th> 
					<th> ID </th>
					<th>IMAGE ID </th> 
					<th> BUILD TAG </th> 
					<th> BUILD SERVER </th> 
					<th> IS REPLICATED?</th> 
					<th> CREATED AT</th> 



				</tr>
				<tbody>

				<% imageList.forEach( function(image, index){ %>
						<tr>	
							<td> <%= index + 1 %> </td>
							<td> <%= image.id %> </td>
							<td> <%= image.image_id %> </td>
							<td> 
								<span class="success" ><%= image.build_tag %> &nbsp;</span><span class="alert" > <%= decodeURIComponent(image.repository) %> </span>

							</td>
							<td> 
								<% var server =  JSON.parse(image.build_server); %>
								<span class="success" ><%= server.name %> &nbsp;</span><span class="alert" > <%= server.hostname+":"+ server.dockerPort %> </span>

							</td>
							<td> <%= image.isReplicated %> </td>
							<td> <%= image.createdAt %> </td>
							<td>
								<Div class="operation_menu"> 	
									<span class="inspect"> <a href="/dockers/<%=image.image_id %>/containers?repository=<% if( !image.repository) { %>--<% }else { %><%= image.repository %><% }%>&created=<%=image.createdAt%>" title="Inspect">  &equiv;	 </a> </span>
									<!--					
									<span class="delete"> <a href="/dockers/<% if( !image.repository) { %><%= image.image_id %><% }else { %><%= encodeURIComponent(image.repository) %><% } %>/delete" title="remove"> &cross;  </a></span>
									-->
									<span class="status"> 
										<a href="/dockerfiles/<%= encodeURIComponent(image.id) %>/push" title="remove"> PUSH  </a></span>

									
								</Div>
							</td>
						</tr>
				<% }) %>
			</tbody>
		</table>
 <%  }%>



<% include ../../layouts/dashboard_layout_bottom %>
